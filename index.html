---
layout: default
---
  
<h1>Pool Size Calculator</h1>

<input type="text" placeholder="i" id="i">
<input type="text" placeholder="t" id="t">
<button type="button" onclick="main();">Get Value</button>

<div id="result"></div>

Beautiful

<script>
  
function poolsize (i) { 
	return Math.floor(Math.log(0.5)/Math.log(1-i));
}

function cir (i, s) {
	return (i/(1-Math.pow((1-i),s)));
}
	
function main () {
 
	var i = document.getElementById("i").value;
	var t = document.getElementById("t").value;;
	var s = poolsize(i);
	var parts;
	var q, r;
	var j;
	
	var out = document.getElementById("result");
	//out.textContent = 'Optimal potential for testing (assuming no dilution) is '+s;
	out.innerHTML = 'Optimal potential for testing (assuming no dilution) is '+s;
	//document.write('Optimal potential for testing (assuming no dilution) is '+s);

	s = poolsize(cir(i,t));
	parts = Math.ceil(t/s);
	q = Math.floor(t/parts);
	r = t%parts;

	out.appendChild(document.createElement('br'));
	out.innerHTML += 's='+s+' parts='+parts+' q='+q+' r='+r;

	for (j=0;j<parts;j++) {
		if (r != 0) {
			out.appendChild(document.createElement('br'));
			out.innerHTML(q+1+'\t');			
			r--;
		}
		//else document.write(q+'\t');
	}
	
}
	
</script> 
